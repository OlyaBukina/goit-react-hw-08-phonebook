"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[698],{9698:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r,a=t(9439),i=t(2791),o=t(9434),s=t(5036),c=t(6916),l=function(e){return e.contacts},d=function(e){return e.filter},u=(0,c.P1)([d,l],(function(e,n){var t=n.items,r=e.toLowerCase().trim();return t.filter((function(e){return e.name.toLowerCase().includes(r)}))})),m=t(1413),x=t(9195),h=t(4695),p=t(1614),f=t(4554),b=t(1889),Z=t(7981),j=t(6151),v=t(6727),g=v.Ry().shape({name:v.Z_().required("Name is a required field!").min(2,"Too short name!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:v.Z_().required("Number is a required field!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}),C=t(184),y=function(e){var n,t,r=e.onSave,a=e.actionOnSubmit,i=e.actionBtnText,s=e.contact,c=void 0===s?{}:s,d=(0,o.v9)(l).items,u=(0,o.I0)(),v=(0,x.cI)({resolver:(0,h.X)(g)}),y=v.register,S=v.handleSubmit,k=v.reset,w=v.formState.errors;return(0,C.jsx)(p.Z,{component:"div",sx:{marginTop:2,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,C.jsxs)(f.Z,{component:"form",noValidate:!0,onSubmit:S((function(e){d.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts.")):(u(a((0,m.Z)((0,m.Z)({},c),e))),r(),k())})),children:[(0,C.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(b.ZP,{item:!0,xs:12,children:(0,C.jsx)(Z.Z,(0,m.Z)((0,m.Z)({},y("name")),{},{error:!!w.name,helperText:null===(n=w.name)||void 0===n?void 0:n.message,autoComplete:"given-name",name:"name",defaultValue:null===c||void 0===c?void 0:c.name,required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,sx:{textTransform:"capitalize"}}))}),(0,C.jsx)(b.ZP,{item:!0,xs:12,children:(0,C.jsx)(Z.Z,(0,m.Z)((0,m.Z)({},y("number")),{},{error:!!w.number,helperText:null===(t=w.number)||void 0===t?void 0:t.message,required:!0,fullWidth:!0,id:"number",label:"Phone number",defaultValue:null===c||void 0===c?void 0:c.number,name:"number",autoComplete:"number"}))})]}),(0,C.jsx)(j.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:i})]})})},S=t(7004),k=t(3400),w=t(9823),T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"75%",bgcolor:"background.paper",borderRadius:2.5,boxShadow:24,pt:2,px:4,pb:3},z=function(e){var n=e.children,t=e.onClose,r=e.open;return(0,C.jsx)(S.Z,{open:r,onClose:t,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,C.jsxs)(f.Z,{sx:(0,m.Z)({},T),children:[(0,C.jsx)(k.Z,{type:"button",onClick:t,"aria-label":"close",sx:{position:"absolute",top:"8px",right:"8px"},children:(0,C.jsx)(w.Z,{})}),n]})})},A=t(7247),I=t(1286),P=t(4852),W=t(653),q=t(3044),L=t(6259),_=t(890),B=function(e){var n=e.contact,t=(0,o.I0)(),r=(0,i.useState)(!1),c=(0,a.Z)(r,2),l=c[0],d=c[1],u=function(){return d((function(e){return!e}))},m=n.id,x=n.name,h=n.number,p=x.slice(0,1).toUpperCase();return(0,C.jsxs)(P.ZP,{alignItems:"center",sx:{borderBottom:"1px solid #9e9e9e"},children:[(0,C.jsx)(W.Z,{children:(0,C.jsx)(q.Z,{sx:{bgcolor:"#cdc1d5"},children:p})}),(0,C.jsx)(L.Z,{primary:(0,C.jsx)(_.Z,{component:"p",variant:"subtitle1",fontSize:"18px",fontWeight:"700",sx:{textTransform:"capitalize"},children:x}),secondary:(0,C.jsx)(_.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:h})}),(0,C.jsx)(k.Z,{type:"button",onClick:u,"aria-label":"edit",sx:{marginRight:"4px"},children:(0,C.jsx)(I.Z,{})}),l&&(0,C.jsxs)(z,{onClose:u,open:l,children:[(0,C.jsx)(_.Z,{component:"h3",variant:"h5",children:"Edit contact"}),(0,C.jsx)(y,{onSave:u,actionOnSubmit:s.Tk,actionBtnText:"Save changes",contact:n})]}),(0,C.jsx)(k.Z,{type:"button",onClick:function(){return t((0,s.GK)(m))},"aria-label":"delete",children:(0,C.jsx)(A.Z,{})})]})},R=t(493),F=function(){var e=(0,o.v9)(u);return(0,C.jsx)(R.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:e.map((function(e){return(0,C.jsx)(B,{contact:e},e.id)}))})},N=t(8294),O=function(){var e=(0,o.v9)(d),n=(0,o.I0)();return(0,C.jsx)(f.Z,{mb:"16px",children:(0,C.jsx)(Z.Z,{autoComplete:"given-name",name:"filter",fullWidth:!0,id:"filter",label:"Search field",autoFocus:!0,onChange:function(e){var t=e.target.value;n((0,N.Tv)(t))},value:e})})},V=t(2410),E=t(168),K=t(7691).ZP.p(r||(r=(0,E.Z)(["\n  font-size: 22px;\n  font-weight: 700;\n  color: #3f4f3d;\n"]))),D=function(e){var n=e.message;return(0,C.jsx)(K,{children:n})},G=t(7750),J=t(3967),M=function(){var e=(0,o.v9)(l),n=e.items,t=e.isLoading,r=e.error,c=e.isRefresh,d=(0,o.I0)(),u=(0,J.Z)(),m=(0,i.useState)(!1),x=(0,a.Z)(m,2),h=x[0],b=x[1],Z=function(){return b((function(e){return!e}))};return(0,i.useEffect)((function(){d((0,s.CL)())}),[d,c]),(0,C.jsxs)(p.Z,{component:"main",maxWidth:"s",sx:{position:"relative",maxWidth:580,backgroundColor:"#fff",padding:"18px",borderRadius:"10px"},children:[h&&(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(z,{onClose:Z,open:h,children:[(0,C.jsx)(f.Z,{children:(0,C.jsx)(_.Z,{component:"h3",variant:"h5",textAlign:"center",mt:"16px",color:u.palette.primary.main,children:"Add contact"})}),(0,C.jsx)(y,{onSave:Z,actionOnSubmit:s.uK,actionBtnText:"Add contact"})]})}),(0,C.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)(_.Z,{component:"h4",variant:"h3",mt:"16px",mb:"16px",fontSize:"2rem",color:u.palette.primary.main,children:"Contacts"}),(0,C.jsx)(k.Z,{type:"button",onClick:Z,"aria-label":"edit",sx:{height:"40px"},children:(0,C.jsx)(G.Z,{})})]}),(0,C.jsx)(O,{}),t&&!r&&(0,C.jsx)(V.a,{position:"flex-start",height:"50vh"}),!t&&!r&&!c&&(0,C.jsx)(F,{}),!t&&!r&&0===n.length&&(0,C.jsx)(D,{message:"There are no contacts"})]})}}}]);
//# sourceMappingURL=698.0d426081.chunk.js.map